<?php//use Parse\ParseClient;//use Parse\ParseObject;if (!defined('BASEPATH')) {    exit('No direct script access allowed');}class Inicio extends CI_Controller {    function __construct() {//        ParseClient::initialize('Ah5AWLYZuB96XYs6WNBpPNKL5ZdxQHdRuOw6RvkQ', 'fHn41Sm6mHw9ntuinPcGuGl4VSvcbpIl2jCLyjF3', '4ts417GGJlx33dX974rZc5CViA39Eg8AWBCph7ss');        parent::__construct();        $this->load->helper('form');    }    function index() {        $this->load->view('header');        $this->load->view('carousel');        $this->load->view('inicio');        $this->load->view('footer');    }    function descargar_llamado_a_ponencias() {        $this->load->helper('download');        $data = file_get_contents(asset_url() . "docs/llamado-a-ponecias.pdf"); // Read the file's contents        $name = 'Llamado a ponencias.pdf';        force_download($name, $data);    }    function llamado_a_ponencias() {        $this->load->view('header');        $this->load->view('llamado_a_ponencias');        $this->load->view('footer');    }    function inscripciones() {        $this->load->view('header');        $this->load->view('inscripciones');        $this->load->view('footer');    }    function comite_organizador() {        $this->load->view('header');        $this->load->view('comite_organizador');        $this->load->view('footer');    }     function programa_tecnico() {        $this->load->view('header');        $this->load->view('programa_tecnico');        $this->load->view('footer');    }    function hotel_sede() {        $this->load->view('header');        $this->load->view('hotel_sede');        $this->load->view('footer');    }    function patrocinadores() {        $this->load->view('header');        $this->load->view('patrocinadores');        $this->load->view('footer');    }    function contacto() {        $this->load->view('header');        $this->load->view('contacto');        $this->load->view('footer');    }    function enviarFormulario() {        $data = $this->input->post();        $mensaje = new ParseObject("Consultas");        $mensaje->set("nombre", $data['nombre']);        $mensaje->set("correo", $data['correo']);        $mensaje->set("telefono", $data['telefono']);        $mensaje->set("asunto", $data['asunto']);        $mensaje->set("mensaje", $data['mensaje']);        try {            $mensaje->save();            $this->load->view('header');            $this->load->view('enviado_exito');            $this->load->view('contacto');            $this->load->view('footer');        } catch (ParseException $ex) {            $this->load->view('header');            $this->load->view('enviado_fallido');            $this->load->view('contacto');            $this->load->view('footer');        }    }    function enviarPreinscrip(){                       $email_to = $this->input->post('email');            $email_from = "conescapan2015@gmail.com";            $mail_subject= "PREINSCRIPCIÓN CONESCAPAN 2015";             // $headers = 'From: '.$email_from."\r\n".            // 'Reply-To: '.$email_from."\r\n" .            // 'X-Mailer: PHP/' . phpversion();                        $headers = 'De: '.$email_from."\r\n";            $headers .= 'Bcc: eng.j.g@ieee.org, ricardo.puyaut.f@ieee.org'."\r\n";            //$headers .= 'Bcc: ricardo.puyaut.f@ieee.org'."\r\n";                        //add boundary string and mime type specification            // $headers .= 'Content-Type: multipart/mixed; boundary=\"PHP-mixed-'.$random_hash.'\"';            $headers .= 'Content-type:text/html;charset=UTF-8'."\r\n";            $email_message = $this->input->post('nombre').' ¡GRACIAS POR PREINSCRIBIRTE AL CONESCAPAN EL SALVADOR 2015!'."\r\n";            $email_message .='En estos momentos el Comité Organizador del evento se está preparando para atenderte de la mejor manera durante la Convención'."\r\n";            $email_message .='Tu número de preinscripción es '. .' Por favor guarda este correo por cualquier consulta o reclamo'."\r\n";            $email_message .=' '."\r\n";            $email_message .=' '."\r\n";            $email_message .='Porfavor, Asegúrate de revisar constantemente nuestra página web, sigue nuestras redes sociales y comparte nuestros anuncios con tus amigos'."\r\n";            $email_message .='¡No faltes! ¡Te esperamos!'."\r\n";            $email_message .='#SomosTecnología #SomosInnovación #SomosIEEE';      //   if($this->input->post('btn_preinscrip')){            $data = array(                'nombre'=> $this->input->post('nombre'),                'pais'=> $this->input->post('pais'),                'genero'=> $this->input->post('genero'),                'tipo_miembro'=> $this->input->post('tipo_miembro'),                'no_miembro'=> $this->input->post('no_miembro'),                'universidad'=> $this->input->post('universidad'),                'tipo_habita'=> $this->input->post('habitacion'),                'email'=> $this->input->post('email'),                             );            $this->load->database();              //$this->db->select('*');            $this->db->select('nombre');            $this->db->from('preinscripciones');            $this->db->where('no_miembro',$data['no_miembro']);              if ($this->db->count_all_results() == 0)               {                          $this->db->insert('preinscripciones',$data);                       $this->load->view('header');                    $this->load->view('preinscrip_exito');                    mail($email_to, $email_subject, $email_message, $headers);                      $this->load->view('inscripciones');                    $this->load->view('footer');                  return  FALSE;                      }               else               {                                         $this->load->view('header');                     $this->load->view('preinscrip_fallido');                     $this->load->view('inscripciones');                                  $this->load->view('footer');                   return TRUE;              }                        }}